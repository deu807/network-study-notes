# 네트워크는 어떻게 인터넷이 될까?

## 노드
- **노드**: 정보를 주고받는 모든 네트워크에 있는 기기  
  예) 개인 노트북, 스마트폰, 서버
- 이러한 노드의 공통점은 주소를 가진다는 것

## 라우터
- 한 네트워크를 다른 네트워크에 연결할 때 중간 노드가 되는 기기
- **IP 패킷**(인터넷 트래픽을 구성하는 데이터 조각)을 한 네트워크에서 다른 네트워크로 옮기는 역할

## 서버
- 네트워크를 통해 서비스를 제공하는 노드

## 클라이언트
- 제공된 서비스를 사용하는 네트워크 노드

## MAC 주소 (디바이스 ID)
- 네트워크에 사용되는 모든 기기가 지니고 있는 고유 주소
- **라우터**는 MAC 주소를 사용하여 연결된 기기를 식별

## 기기가 네트워크에 연결되는 방법
1. **MAC 주소** 외에 **네트워크 주소**가 필요
2. 네트워크 주소를 얻기 위해 라우터에 신호를 보냄
3. **DHCP**를 통해 네트워크 카드에 네트워크 주소가 할당됨
4. 네트워크 주소를 할당받은 후:
   - 표준 게이트웨이를 통해 인터넷에 연결
   - 같은 네트워크의 다른 노드와 데이터 전송 가능

---

# 인터넷에서 정보는 어떤 모습일까?

## 패킷
- 네트워크에서 데이터는 **패킷(packet)** 형태로 나눠져 전송
- 패킷 구성 요소:
  1. **발송 정보**: 편지 봉투의 주소 역할
  2. **콘텐츠**: 편지 봉투 안의 내용

## 데이터 분할
- 대용량 데이터는 여러 개의 패킷으로 나눠 전송
- 각 패킷에는 **발신 및 수신 주소 정보(헤더)** 포함

## 패킷의 구조 및 전송
- 패킷은 0과 1로 이루어진 **이진수 데이터**로 표현
- 전송 매체에 따라:
  - 전기 신호
  - 라디오 주파수
  - 빛 신호로 인코딩되어 전달

## 주파수 변조
- 이진수 신호는 **주파수 변조** 과정을 거쳐 송신
- 수신기는 이를 다시 **0과 1**로 변환

---

# 인터넷에서 기기는 어떻게 통신할까?

## 프로토콜
- 인터넷에서 통신 규칙과 오류 처리 방식을 정의  
  **주요 프로토콜:**
  1. **TCP** (전송제어 프로토콜):  
     패킷을 정확하고 완전한 형태로 전송. 속도가 느림.
  2. **UDP** (사용자 데이터그램 프로토콜):  
     속도를 우선시. 패킷 순서 보장 X.
  3. **QUIC** (빠른 UDP 인터넷 연결):  
     UDP의 속도와 TCP의 신뢰성을 결합한 프로토콜.

## 프로토콜 표준 국제기구
- **IEEE**: 유·무선 네트워크 프로토콜
- **IETF**: 인터넷 통신 프로토콜 수립 및 게시
- **ITU-T**: 전기 통신 프로토콜 표준
- **ISO**: 다양한 부문 애플리케이션 표준

## IP
- 패킷의 구성과 주소 형식을 표준화하는 프로토콜
- **IP 주소**:
  - **공용 IP 주소**: 인터넷에 직접 연결되는 주소 (예: 홈 라우터)
  - **사설 IP 주소**: LAN 또는 VPN 같은 사설망에서 사용
    - 라우터가 공용 IP를 가지고 있으며, 사설망 디바이스 통신을 중개

## NAT (네트워크 주소 변환)
- **사설 IP 주소** → **공용 IP 주소**로 변환하여 패킷 전송
- 라우터는 메모리에 발신 디바이스 정보를 기록하여 응답 패킷을 다시 사설 IP로 전달

## 전 세계 IP 주소 할당
1. **IANA**: 전 세계 공용 IP 주소 관리
2. **RIR**: 대륙별 IP 주소 범위 할당
3. **LIR**: ISP(인터넷 서비스 공급자)를 통해 사용자에게 IP 주소 제공
4. 할당 방식:
   - **정적 IP**: 주로 서버에서 사용
   - **동적 IP**: 일반적인 사용자에게 자동 할당

## 패킷 이동 과정
1. 홈 라우터 → ISP의 대형 라우터로 패킷 전달
2. 대형 라우터가 패킷 헤더를 읽고 목적지나 다음 라우터로 전달

## 보안 문제
- **IP 스푸핑**: 발신 IP 주소를 변경하여 발신지 숨김 및 혼란 유발

## 인터넷 프로토콜 보안 (IPSec)
- **무결성**: 패킷 변조 방지
- **진본성**: 발신지 신뢰 확인
- **신뢰성**: 패킷 내용 암호화로 데이터 보호
- 방지 가능:
  - IP 스푸핑
  - DoS/DDoS 공격
- 설정이 복잡하여 널리 사용되지는 않음

---

# 인터넷의 정보는 어떻게 움직일까?


## 인터넷 지도
인터넷은 하나의 거대한 네트워크가 아닌 **수만 개의 작은 네트워크(자율 시스템, AS)**로 구성. 2020년 6월 기준 약 97,000개의 AS가 존재,AS는 자율적으로 관리되며 서로 연결되어 인터넷을 구성.

## AS와 인터넷 
- **AS의 역할**: 인터넷이 전 세계를 나타내는 지도라면 AS는 그 지도의 마을,도시, 국가에 해당
- **BGP (경계 경로 프로토콜)**: 
  - AS 간의 경로 정보를 교환하고 최적의 경로를 계산하는 프로토콜.
  - 가장 짧고 비용이 저렴한 경로를 우선적으로 선택.
  - AS 라우터의 출입구 역할을 하는 BGP 라우터가 서로 경로 정보를 교환하여 인터넷 트래픽을 관리.
  - 하지만 잘못된 정보나 오류가 있을 경우 대규모 인터넷 장애를 유발할 수 있음.

  ## 대등 접속,중계
- **대등 접속 (Peering)**:
  - 대규모 AS 간의 데이터 트래픽을 무료로 교환.
  - 요즘은 비용을 지불하는 경우도 있음.
- **중계 (Transit)**:
  - 소규모 AS가 대규모 AS의 네트워크를 사용할 때 발생하는 비용.
  - BGP는 중계 접속 비용과 경로를 함께 고려해 최적 경로를 계산.

  ## 인터넷 익스체인지 포인트 (IXP)
- **IXP란?**:
  - 여러 AS의 물리적 연결점.
  - IXP를 통해 인터넷 트래픽 교환을 효율적으로 수행.
  - 전 세계적으로 1,000개 이상의 IXP가 운영 중이며, 유럽에 240개, 북미에 340개 존재.

  ## 1. 사용자 데이터그램 프로토콜 (UDP)
- **특징**:
  - 신뢰성보다 **속도 우선**.
  - 데이터그램 단위로 전송하며 패킷의 순서, 손실 여부를 확인하지 않음.
- **활용**:
  - 동영상 스트리밍, 온라인 게임, 인터넷 전화 등 **빠른 전송이 중요한 경우**.

## 2. 전송 제어 프로토콜 (TCP)
- **특징**:
  - 데이터의 신뢰성과 정확성 우선.
  - 세 가지 핸드셰이크(SYN-SYN/ACK-ACK)를 통해 패킷 전송을 시작하고 종료.
  - **올바른 순서 재구성** 가능.
- **활용**:
  - 월드 와이드 웹, 이메일, P2P 통신 등 **데이터 무결성이 중요한 경우**.
- **단점**:
  - 느린 전송 속도.

## 3. 빠른 UDP 인터넷 연결 (QUIC)
- **특징**:
  - UDP의 속도와 TCP의 신뢰성을 결합.
  - **연결 ID**를 통해 IP 주소 변경 시에도 연결 유지.
  - 패킷 암호화로 보안을 강화
  - 오류가 발생하면 해당 오류가 수정될 때까지 기다리지 않고 나머지 데이터를 처리
- **활용**:
  - TCP와 UDP의 단점을 보완하여 다양한 인터넷 애플리케이션에서 사용 가능.